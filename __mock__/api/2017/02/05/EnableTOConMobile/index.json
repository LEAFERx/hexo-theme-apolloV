{"path":"2017/02/05/EnableTOConMobile/","title":"在移动设备下启用NexT主题的目录页面和回到顶部按钮","date":"2017-02-05T10:48:02.000Z","updated":"2017-02-11T05:26:46.000Z","content":"<p>其实就是改写一下css 个人觉得在移动端还是比较需要目录的<br>主要涉及<code>/themes/next/source/css/_common/components/sidebar/</code>目录下文件的修改<br>效果可见本博客移动端页面<br><a id=\"more\"></a></p>\n<h1 id=\"Step-0\"><a href=\"#Step-0\" class=\"headerlink\" title=\"Step 0\"></a>Step 0</h1><p>确保你拥有一个以NexT为主题的Hexo博客 版本大概任意orz</p>\n<h1 id=\"Step-1\"><a href=\"#Step-1\" class=\"headerlink\" title=\"Step 1\"></a>Step 1</h1><p>使用文本编辑器打开<code>/themes/next/source/css/_common/components/sidebar/sidebar.styl</code><br>在<code>.sidebar</code>下将<code>+tablet()</code>和<code>+mobile()</code>注释掉<br><figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/*+tablet() &#123;</span></span><br><span class=\"line\"><span class=\"comment\">    display: none !important;</span></span><br><span class=\"line\"><span class=\"comment\">  &#125;</span></span><br><span class=\"line\"><span class=\"comment\">  +mobile() &#123;</span></span><br><span class=\"line\"><span class=\"comment\">    display: none !important;</span></span><br><span class=\"line\"><span class=\"comment\">  &#125;*/</span></span><br></pre></td></tr></table></figure></p>\n<h1 id=\"Step-2\"><a href=\"#Step-2\" class=\"headerlink\" title=\"Step 2\"></a>Step 2</h1><p>在移动端启用目录按钮<br>使用文本编辑器打开<code>/themes/next/source/css/_common/components/sidebar/sidebar-toggle.styl</code><br>在<code>.sidebar-toggle</code>下将<code>+tablet()</code>和<code>+mobile()</code>注释掉即可<br>为了适配移动端，我微调了部分css如下：<br><figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">+<span class=\"selector-tag\">tablet</span>() &#123;</span><br><span class=\"line\">  <span class=\"attribute\">right</span>: <span class=\"number\">20px</span>;</span><br><span class=\"line\">  bottom: 45px;  //微调位置</span><br><span class=\"line\">  <span class=\"selector-tag\">-moz-opacity</span>: 0<span class=\"selector-class\">.8</span>;  </span><br><span class=\"line\">  <span class=\"selector-tag\">-khtml-opacity</span>: 0<span class=\"selector-class\">.8</span>;  </span><br><span class=\"line\">  opacity: 0.8;  //增加透明效果</span><br><span class=\"line\">  <span class=\"comment\">/*display: none;*/</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\">+<span class=\"selector-tag\">mobile</span>() &#123;</span><br><span class=\"line\">  <span class=\"attribute\">right</span>: <span class=\"number\">20px</span>;</span><br><span class=\"line\">  bottom: 45px;  //微调位置</span><br><span class=\"line\">  <span class=\"selector-tag\">-moz-opacity</span>: 0<span class=\"selector-class\">.8</span>;  </span><br><span class=\"line\">  <span class=\"selector-tag\">-khtml-opacity</span>: 0<span class=\"selector-class\">.8</span>;  </span><br><span class=\"line\">  opacity: 0.8;  //增加透明效果</span><br><span class=\"line\">  <span class=\"comment\">/*display: none;*/</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<h1 id=\"Step-3\"><a href=\"#Step-3\" class=\"headerlink\" title=\"Step 3\"></a>Step 3</h1><p>在移动端启用回到顶部按钮<br>使用文本编辑器打开<code>/themes/next/source/css/_common/components/back-to-top.styl</code><br>在<code>.back-to-top</code>下将部分代码修改如下：<br><figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">+<span class=\"selector-tag\">mobile</span>() &#123;</span><br><span class=\"line\">  <span class=\"attribute\">right</span>: <span class=\"number\">20px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">-moz-opacity</span>: <span class=\"number\">0.8</span>;  </span><br><span class=\"line\">  <span class=\"attribute\">-khtml-opacity</span>: <span class=\"number\">0.8</span>;  </span><br><span class=\"line\">  <span class=\"attribute\">opacity</span>: <span class=\"number\">0.8</span>;  </span><br><span class=\"line\">  <span class=\"comment\">/*display: none;*/</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\">+<span class=\"selector-tag\">tablet</span>() &#123;</span><br><span class=\"line\">  <span class=\"attribute\">right</span>: <span class=\"number\">20px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">-moz-opacity</span>: <span class=\"number\">0.8</span>;  </span><br><span class=\"line\">  <span class=\"attribute\">-khtml-opacity</span>: <span class=\"number\">0.8</span>;  </span><br><span class=\"line\">  <span class=\"attribute\">opacity</span>: <span class=\"number\">0.8</span>;  </span><br><span class=\"line\">  <span class=\"comment\">/*display: none;*/</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>完成</p>\n<p>*<em>注：个人预计在小屏移动端可能会出现适配不良的情况；以及友链较多的博客慎用，可能会产生向下溢出？</em></p>\n","prev":"2017/04/23/SICP-note-0/","next":"2017/01/30/Bottomheart/"}